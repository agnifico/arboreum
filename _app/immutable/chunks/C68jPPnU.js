import{n as D,o as x,t as f,v as h,w as q,x as B,y as Y,u as y,z as w,L as C,A as T,B as G,P as $,C as z,D as F,F as J,S as K,G as V,I as Z,J as j,K as H,M as Q}from"./BtkmG4fx.js";import{s as W,g as X}from"./BRlk0jGz.js";let b=!1,m=Symbol();function ne(e,r,a){const u=a[r]??(a[r]={store:null,source:x(void 0),unsubscribe:D});if(u.store!==e&&!(m in a))if(u.unsubscribe(),u.store=e??null,e==null)u.source.v=void 0,u.unsubscribe=D;else{var d=!0;u.unsubscribe=W(e,t=>{d?u.source.v=t:B(u.source,t)}),d=!1}return e&&m in a?X(e):f(u.source)}function ue(){const e={};function r(){h(()=>{for(var a in e)e[a].unsubscribe();q(e,m,{enumerable:!1,value:!0})})}return[e,r]}function k(e){var r=b;try{return b=!1,[e(),b]}finally{b=r}}function p(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function ae(e,r,a,u){var L;var d=(a&Q)!==0,t=!j||(a&H)!==0,o=(a&J)!==0,M=(a&Z)!==0,A=!1,l;o?[l,A]=k(()=>e[r]):l=e[r];var N=K in e||V in e,c=o&&(((L=Y(e,r))==null?void 0:L.set)??(N&&r in e&&(n=>e[r]=n)))||void 0,s=u,S=!0,P=!1,O=()=>(P=!0,S&&(S=!1,M?s=y(u):s=u),s);l===void 0&&u!==void 0&&(c&&t&&w(),l=O(),c&&c(l));var _;if(t)_=()=>{var n=e[r];return n===void 0?O():(S=!0,P=!1,n)};else{var R=(d?T:G)(()=>e[r]);R.f|=C,_=()=>{var n=f(R);return n!==void 0&&(s=void 0),n===void 0?s:n}}if((a&$)===0)return _;if(c){var U=e.$$legacy;return function(n,v){return arguments.length>0?((!t||!v||U||A)&&c(v?_():n),n):_()}}var I=!1,g=x(l),i=T(()=>{var n=_(),v=f(g);return I?(I=!1,v):g.v=n});return o&&f(i),d||(i.equals=z),function(n,v){if(arguments.length>0){const E=v?f(i):t&&o?F(n):n;if(!i.equals(E)){if(I=!0,B(g,E),P&&s!==void 0&&(s=E),p(i))return n;y(()=>f(i))}return n}return p(i)?i.v:f(i)}}export{ue as a,ae as p,ne as s};
